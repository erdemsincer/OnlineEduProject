@model CreateMessageDto

<div class="col-lg-8">
    <form asp-action="SendMessage" asp-controller="Contact" class="form-contact contact_form" method="post" id="messageForm">
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <textarea class="form-control w-100" asp-for="Content" id="message" cols="30" rows="9" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Mesajınızı Yazın'" placeholder="Mesajınızı Yazın" required></textarea>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <input class="form-control valid" asp-for="Name" type="text" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Adınızı Yazın'" placeholder="Adınızı Yazın" required>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <input class="form-control valid" asp-for="Email" type="email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Adresinizi Yazın'" placeholder="Email Adresiniz" required>
                </div>
            </div>
            <div class="col-12">
                <div class="form-group">
                    <input class="form-control" asp-for="Subject" type="text" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Konuyu Yazın'" placeholder="Konuyu Yazın" required>
                </div>
            </div>
        </div>
        <div class="form-group mt-3">
            <button id="sendMessageButton" type="submit" class="button button-contactForm boxed-btn">Mesajı Gönder</button>
        </div>
    </form>
</div>

<script>
    // Mesaj gönderme işlemini kontrol eden fonksiyon
    document.getElementById("messageForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Formun varsayılan submit davranışını durdur

        Swal.fire({
            title: "Mesajınız Gönderildi",
            text: "Size en kısa sürede cevap verilecektir.",
            icon: "success",
            confirmButtonColor: "#3085d6",
            confirmButtonText: "Tamam"
        }).then((result) => {
            if (result.isConfirmed) {
                // Formu manuel olarak gönder
                this.submit();
            }
        });
    });
</script>
